# AGENTS.md — правила работы ИИ‑агентов в проекте Amulet

## Назначение
Короткие правила для ИИ‑агентов (например, Droid) при работе с этим репозиторием: как отвечать, какие инструменты использовать и какие ограничения соблюдать.

## Язык и стиль ответов
- Язык по умолчанию: русский.
- Краткость: 1–4 предложения, без лишних отступлений.
- Делать ровно то, что попросил пользователь (без «улучшений», если явно не попросили).
- Ответы в Markdown (заголовки, списки, кодовые блоки по необходимости).

## Инструменты и операции
- Для обзора репозитория: предпочитать Glob/Grep/LS/Read вместо shell-команд.
- Для правок файлов: ApplyPatch (один файл за вызов), перед правкой читать файл.
- Для выполнения CLI: Execute; использовать абсолютные пути и не полагаться на состояние сессии.

## Безопасность и приватность
- Не выводить и не коммитить секреты, ключи, токены, содержимое .env и конфигов.
- Не запускать опасные команды (rm -rf, sudo, curl | bash и т. п.).
- Не изменять системные настройки и git config.

## Git‑процессы (когда пользователь просит сделать commit/PR)
1) Перед коммитом: `git status`, `git diff`/`git diff --cached` — убедиться в отсутствии секретов.
2) Коммит: короткое сообщение, фокус на «зачем», без пустых коммитов.
3) Если есть pre-commit hooks — при неудаче повторить один раз, затем сообщить о блокере.
4) PR: базовая ветка — default branch, описать суть изменений и вернуть URL PR.

## Тестирование и качество
- Перед завершением задачи запускать доступные линтеры/тесты/типчеки (если уместно для изменений).
- Исправлять найденные диагностические ошибки до завершения.
- Для мелких правок документации запуск тестов не обязателен, если пользователь не запросил.

## Ограничения
- Не создавать/обновлять документацию, если этого явно не просили (исключение: этот файл).
- Не пушить в удалённый репозиторий без явной команды.

## Режим спецификации (spec mode)
- Если задача требует планирования: сначала краткий план работ (этапы/шаги), затем выполнение после подтверждения.
- В план можно включать минимальные примеры кода/команд.

## Шаблон ответа на задачи
1) Подтверждение/краткая формулировка задачи.
2) Действия (если запрошено — выполнить с использованием инструментов).
3) Короткое резюме изменений (1–4 предложения).
